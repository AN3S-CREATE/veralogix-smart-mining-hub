
{
  "entities": {
    "Alert": {
      "title": "Alert",
      "description": "Represents a system-generated alert requiring attention.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "tenantId": { "type": "string", "description": "The ID of the tenant." },
        "moduleKey": { "type": "string", "description": "The key of the module that generated the alert." },
        "severity": { "type": "string", "enum": ["Low", "Medium", "High", "Critical"] },
        "status": { "type": "string", "enum": ["New", "Acknowledged", "Resolved"] },
        "description": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["tenantId", "moduleKey", "severity", "status", "description", "createdAt"]
    },
    "Task": {
      "title": "Task",
      "description": "Represents an actionable task for a user or system.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "tenantId": { "type": "string", "description": "The ID of the tenant." },
        "moduleKey": { "type": "string", "description": "The key of the module that generated the task." },
        "taskType": { "type": "string", "enum": ["CAPA", "Inspection", "Pilot", "Maintenance"] },
        "status": { "type": "string", "enum": ["Todo", "In Progress", "Done"] },
        "description": { "type": "string" },
        "dueDate": { "type": "string", "format": "date-time" },
        "assignee": { "type": "string", "description": "User or group ID" }
      },
      "required": ["tenantId", "moduleKey", "taskType", "status", "description"]
    },
    "ActivityFeedItem": {
      "title": "Activity Feed Item",
      "description": "An item in the global activity feed, like an audit log.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "tenantId": { "type": "string", "description": "The ID of the tenant." },
        "moduleKey": { "type": "string", "description": "The key of the module related to the activity." },
        "timestamp": { "type": "string", "format": "date-time" },
        "user": { "type": "string", "description": "User ID who performed the action" },
        "action": { "type": "string", "description": "A short description of the action taken." },
        "details": { "type": "object", "description": "An object containing more details about the event." }
      },
      "required": ["tenantId", "timestamp", "user", "action"]
    },
    "ComplianceItem": {
      "title": "Compliance Item",
      "description": "Represents a single compliance item for a person or asset.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "type": { "type": "string", "enum": ["License", "Medical", "Training", "Induction"] },
        "subject": { "type": "string", "description": "Person or asset ID" },
        "expiryDate": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["Compliant", "Expiring Soon", "Expired"] }
      },
      "required": ["type", "subject", "status"]
    },
    "CapaAction": {
      "title": "CAPA Action",
      "description": "A Corrective and Preventive Action item.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "description": { "type": "string" },
        "dueDate": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["Open", "In Progress", "Closed"] }
      },
      "required": ["description", "dueDate", "status"]
    },
    "FleetInspection": {
      "title": "Fleet Inspection",
      "description": "Represents a scheduled or completed fleet inspection.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "assetId": { "type": "string" },
        "inspectionType": { "type": "string" },
        "dueDate": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["Due", "Overdue", "Completed"] }
      },
      "required": ["assetId", "dueDate", "status"]
    },
    "DowntimeFlag": {
      "title": "Downtime Flag",
      "description": "A record of asset downtime.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "assetId": { "type": "string" },
        "reason": { "type": "string" },
        "startTime": { "type": "string", "format": "date-time" },
        "endTime": { "type": "string", "format": "date-time" }
      },
      "required": ["assetId", "reason", "startTime"]
    },
    "LoadProof": {
      "title": "Load Proof",
      "description": "A record of a single haulage load.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "vehicleId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "payload": { "type": "number" },
        "imageUrl": { "type": "string" }
      },
      "required": ["vehicleId", "timestamp", "payload"]
    },
    "ManagementKpi": {
      "title": "Management KPI",
      "description": "A high-level Key Performance Indicator for management.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "value": { "type": "string" },
        "trend": { "type": "string", "enum": ["up", "down", "flat"] },
        "period": { "type": "string", "enum": ["Weekly", "Monthly"] }
      },
      "required": ["title", "value", "trend", "period"]
    },
    "EnergyMetric": {
      "title": "Energy Metric",
      "description": "A record of energy consumption.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "site": { "type": "string" },
        "metricName": { "type": "string" },
        "value": { "type": "number" },
        "unit": { "type": "string" }
      },
      "required": ["timestamp", "site", "metricName", "value", "unit"]
    },
    "EnvironmentalDataPoint": {
      "title": "Environmental Data Point",
      "description": "A record of an environmental metric.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "metricType": { "type": "string" },
        "value": { "type": "number" },
        "unit": { "type": "string" },
        "complianceStatus": { "type": "string", "enum": ["Compliant", "Warning", "Breach"] }
      },
      "required": ["timestamp", "metricType", "value", "complianceStatus"]
    },
    "PredictiveModelOutput": {
      "title": "Predictive Model Output",
      "description": "An output from a predictive model.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "predictionDate": { "type": "string", "format": "date-time" },
        "modelName": { "type": "string" },
        "targetMetric": { "type": "string" },
        "predictedValue": { "type": "number" },
        "confidence": { "type": "number" }
      },
      "required": ["predictionDate", "modelName", "predictedValue"]
    },
    "InventoryItem": {
      "title": "Inventory Item",
      "description": "A single item in the supply chain inventory.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "itemName": { "type": "string" },
        "quantity": { "type": "number" },
        "location": { "type": "string" },
        "reorderPoint": { "type": "number" },
        "isCritical": { "type": "boolean" }
      },
      "required": ["itemName", "quantity", "location"]
    },
     "BlastDesign": {
      "title": "Blast Design",
      "description": "A design for a mining blast operation.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "blastId": { "type": "string" },
        "location": { "type": "string" },
        "designDate": { "type": "string", "format": "date-time" },
        "powderFactor": { "type": "number" },
        "status": { "type": "string", "enum": ["Designed", "Drilled", "Charged", "Fired"] }
      },
      "required": ["blastId", "location", "designDate", "status"]
    },
    "DrillLog": {
      "title": "Drill Log",
      "description": "A log of a single drill hole for a blast.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "holeId": { "type": "string" },
        "blastId": { "type": "string" },
        "depth": { "type": "number" },
        "location": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["holeId", "blastId", "depth", "timestamp"]
    },
    "StockpileVolume": {
      "title": "Stockpile Volume",
      "description": "A measurement of a stockpile's volume and tonnage.",
      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "stockpileName": { "type": "string" },
        "measuredVolume": { "type": "number", "description": "Volume in cubic meters" },
        "measuredTonnage": { "type": "number", "description": "Tonnage in metric tons" },
        "surveyDate": { "type": "string", "format": "date-time" },
        "surveyMethod": { "type": "string", "enum": ["Drone", "Manual", "Laser"] }
      },
      "required": ["stockpileName", "measuredTonnage", "surveyDate", "surveyMethod"]
    }
  },
  "auth": {
    "providers": ["anonymous"]
  },
  "firestore": {
    "/alerts": {
      "schema": { "$ref": "#/backend/entities/Alert" },
      "description": "Collection of all system-wide alerts."
    },
    "/tasks": {
      "schema": { "$ref": "#/backend/entities/Task" },
      "description": "Collection of all actionable tasks."
    },
    "/activityFeed": {
      "schema": { "$ref": "#/backend/entities/ActivityFeedItem" },
      "description": "A global audit trail of system and user activities."
    },
    "/complianceItems": {
      "schema": { "$ref": "#/backend/entities/ComplianceItem" },
      "description": "Collection of all compliance items."
    },
    "/capaActions": {
      "schema": { "$ref": "#/backend/entities/CapaAction" },
      "description": "Collection of all corrective and preventive actions."
    },
    "/fleetInspections": {
      "schema": { "$ref": "#/backend/entities/FleetInspection" },
      "description": "Collection of all fleet inspections."
    },
    "/downtimeFlags": {
      "schema": { "$ref": "#/backend/entities/DowntimeFlag" },
      "description": "Collection of all asset downtime flags."
    },
    "/loadProofs": {
      "schema": { "$ref": "#/backend/entities/LoadProof" },
      "description": "Collection of all load proofs."
    },
    "/managementKpis": {
      "schema": { "$ref": "#/backend/entities/ManagementKpi" },
      "description": "Collection of all management KPIs."
    },
    "/energyMetrics": {
      "schema": { "$ref": "#/backend/entities/EnergyMetric" },
      "description": "Collection of energy consumption metrics."
    },
    "/environmentalData": {
      "schema": { "$ref": "#/backend/entities/EnvironmentalDataPoint" },
      "description": "Collection of environmental data points."
    },
    "/predictiveOutputs": {
      "schema": { "$ref": "#/backend/entities/PredictiveModelOutput" },
      "description": "Collection of predictive model outputs."
    },
    "/inventoryItems": {
      "schema": { "$ref": "#/backend/entities/InventoryItem" },
      "description": "Collection of supply chain inventory items."
    },
    "/blastDesigns": {
      "schema": { "$ref": "#/backend/entities/BlastDesign" },
      "description": "Collection of all blast designs."
    },
    "/drillLogs": {
      "schema": { "$ref": "#/backend/entities/DrillLog" },
      "description": "Collection of all drill logs."
    },
    "/stockpileVolumes": {
      "schema": { "$ref": "#/backend/entities/StockpileVolume" },
      "description": "Collection of all stockpile volume measurements."
    }
  }
}
